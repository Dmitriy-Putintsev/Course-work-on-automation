## План автоматизации тестирования:
#### Коректными данными карты следует считать:

1. Номер карты: цифры 16 шт., в формате **** **** **** ****
2. Владелец: Латинские буквы, пробел, дефис, максимальное число символов 65.
3. Срок действия(valid thru): Месяц 1-12, но не ранее текущего если указан текущий год. Год:последние 2 цифры года, но не ранее текущего и не более 5 лет от текущего года.
4. CVC: цифры 3шт.

#### Карты предоставленные для тестирования:
* APPROVED карта - `1111 2222 3333 4444`
* DECLINED карта - `5555 6666 7777 8888`

#### Тестируемые базы данных(на выбор):
* MySQL
* PostgreSQL

## Примечание:
* ссылки перехода на станицу покупки тура ***доступны только при запущенной SUT.***
### Перечень автоматизируемых сценариев:

### Предусловие:
* **Открыть** [страницу покупки тура](https://localhost:8080/)

## Тестовые сценарии позитивные:
| Отправка данных                                                                                  | Ожидаемый результат                                                   |
|:------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------:|
| 1. Оплата по карте со статусом APPROVED(валидная): [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные => Кликнуть по кнопке **Продолжить**.|  появилось всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со статусом APPROVED|
|                                                                                                  |                                                             |
| 2. Кредит по данным карты со статусом APPROVED(валидная): [На странице покупки тура](https://localhost:8080/) => кликнуть кнопку **Купить в кредит** => В появившихся полях ввести валидные данные => Кликнуть по кнопке **Продолжить**.| появилось всплывающее окно "Операция одобрена Банком", в БД в credit_request_entity появилась запись со статусом APPROVED|
|                                                                                                  |                                                             |


## Негативные сценарии:

| Отправка данных                                                                                  | Ожидаемый результат                                                   |
|:------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------:|
|  **Пустая форма:** [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => Не заполняя полей,кликнуть по кнопке **Продолжить**.| данные не отправлены, в БД в payment_entity новая запись не появилась; под полем ***"Номер карты"*** появится сообщение `Неверный формат`; под полем ***"Месяц"*** появится сообщение `Неверный формат`; под полем ***"Год"*** появится сообщение `Неверный формат`; под полем ***"Владелец"*** появится сообщение `Поле обязательно для заполнения`; под полем ***"CVC/CVV"*** появится сообщение `Неверный формат`.|
|                                                                                                  |                                                             |
|  **1. Поле Номер карты:**|
|                                                                                                  |                                                             |
|     1.1 *Оставить пустым* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода номера карты оставить пустым => Кликнуть по кнопке **Продолжить**.|  под полем "Номер карты" появится сообщение `Неверный формат`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|     1.2 *Менее 16 цифр в номере* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле номер карты ввести не полный номер(например 1111 2222 3333 4)=>Кликнуть по кнопке **Продолжить**.| под полем "Номер карты" появится сообщение `Неверный формат`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|     1.3 *DECLINED* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле номер карты ввести DECLINED(невалидный номер) =>Кликнуть по кнопке **Продолжить**.|  появится всплывающее окно об отказе в проведении операции банком; в БД в payment_entity появилась запись со статусом DECLINED.|
|                                                                                                  |                                                             |
|     1.4 *Ввести 0 как номер карты* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода номера карты ввести 0(ноль) 16 раз=> Кликнуть по кнопке **Продолжить**.| Появится всплывающее окно *"Ошибка! В операции отказано"* ; в БД в payment_entity новая запись не появилась.
|                                                                                                  |                                                             |
|    **2. Поле Месяц:**|
|                                                                                                  |                                                             |
|      2.1 *Оставить пустым* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Месяц* оставить пустым => Кликнуть по кнопке **Продолжить**.| под полем "Месяц" появится сообщение `Неверный формат`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|      2.2 *Истёкший срок действия(месяц)* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода *Месяц* ввести предыдущий месяц и актуальный год  => Кликнуть по кнопке **Продолжить**.| под полем "Месяц" появится сообщение `Неверно указан срок действия карты`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|      2.3 *Невалидный срок действия(месяц поставить 00 нижнее граничное значение)* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода *Месяц* 00 и актуальный год  => Кликнуть по кнопке **Продолжить**.| под полем "Месяц" появится сообщение `Неверно указан срок действия карты`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|      2.4 *Невалидный срок действия(месяц поставить 13 верхнее граничное значение)* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода *Месяц* 13 и актуальный год  => Кликнуть по кнопке **Продолжить**.| под полем "Месяц" появится сообщение `Неверно указан срок действия карты`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|    **3. Поле Год:** |
|                                                                                                  |                                                             |
|       3.1 *Оставить пустым* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Год* оставить пустым => Кликнуть по кнопке **Продолжить**.| данные не отправлены; под полем "Год" появится сообщение `Неверный формат`.|
|                                                                                                  |                                                             |
|       3.2 *Истёкший срок действия(год)* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода *Год* ввести актуальный месяц и предыдущий год  => Кликнуть по кнопке **Продолжить**.| под полем "Год" появится сообщение `Истёк срок действия карты`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|       3.3 *Невалидный срок действия(год указать 6+ от текущего)* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, в поле ввода *Год* указать год 6+ от текущего   => Кликнуть по кнопке **Продолжить**.| под полем "Год" появится сообщение `Неверно указан срок действия карты`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|      **4. Поле Владелец:**  |
|                                                                                                  |                                                             |
|        4.1 *Оставить пустым* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Владелец* оставить пустым => Кликнуть по кнопке **Продолжить**.|  под полем "Владелец" появится сообщение `Поле обязательно для заполнения`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|        4.2 *Ввести русские буквы* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Владелец* ввести русские буквы => Кликнуть по кнопке **Продолжить**.| под полем "Владелец" появится сообщение `Неверный формат данных`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|        4.3 *Ввести цифры*  [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Владелец* ввести цифры => Кликнуть по кнопке **Продолжить**.| под полем "Владелец" появится сообщение `Неверный формат данных`; в БД в payment_entity новая запись не появилась.|      
|                                                                                                  |                                                             |
|        4.4 *Ввести символы*  [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *Владелец* ввести цифры => Кликнуть по кнопке **Продолжить**.| под полем "Владелец" появится сообщение `Неверный формат данных`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|       **5. Поле CVC/CVV** |
|                                                                                                  |                                                             |
|           5.1 *Оставить пустым* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *CVС/CVV* оставить пустым => Кликнуть по кнопке **Продолжить**.|  под полем "CVС/CVV" появится сообщение `Неверный формат`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|           5.2 *Ввести менее трех цифр* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *CVС/CVV* ввести менее трёх цифр => Кликнуть по кнопке **Продолжить**.|  под полем "CVС/CVV" появится сообщение `Неверный формат`; в БД в payment_entity новая запись не появилась.|
|                                                                                                  |                                                             |
|           5.3 *Ввести буквы или символы* [На странице покупки тура](https://localhost:8080/) кликнуть по кнопке **Купить** => В появившихся полях ввести валидные данные, поле ввода *CVС/CVV* ввести буквы или символы | буквы или символы не вводятся.|

 - ***`Сценарии для покупки в кредит аналогичны`***
 
 ## Перечень используемых инструментов с обоснованием выбора:
   - JDK 11 так как будет использоваться ЯП Java;
   - IntelliJ IDEA, для меня самая удобная среда разработки;
   - Gradle более универсален и эффективен, чем Maven;
   - Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, более удобный и простой в использовании, чем Selenium;
   - Docker Compose - инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД;
   - Allure - фреймворк, предназначенный для создания отчетов, более наглядных, чем у Gradle и менее ресурсоёмкий чем Report Portal;
   - Lombok - для упрощения написания кода;
   - Faker - инструмент для генерации случайных данных;
   - GitHub - в качестве хранилища автотестов, для настраивания непрерывной интеграции и работе в команде;
   - JUnit5 - фреймворк для тестирования программного обеспечения, более гибок в настройке чем JUnit4 или TestNG;
 
 ## Перечень и описание возможных рисков при автоматизации:
  * Из-за отсутствия ТЗ и какой-либо документации сложно понять, как должно работать приложение и какое поведение системы нужно считать ошибкой
  * Возможны проблемы из-за необходимости поддержки двух СУБД (MySQL, Postgres)
  * Зависимость авто-тестов от текущей реализации веб-элементов, даже не значительное их изменение может привести к падению авто-тестов;
  * Если мы будем использовать изолированные входные данные для тестов, то можем пропустить Critical баги в production
  
 ## Интервальная оценка с учётом рисков(в часах):
   - Настройка тестового окружения - 6
   - Написание и отладка автотестов - 45
   - Прогон тестов и заведение issue - 10
   - Устранение замечаний - 20
   - Подготовка отчета по итогам автоматизированного тестирования - 8
   - Подготовка отчета по итогам автоматизации - 8
   - Итого: 97 ( с учетом рисков 110) часов
  
  ## План сдачи работ:
   - автоматизация - 18.06.2022 г.
   - подготовка и сдача отчетов с учетом заемчаний - 21.06.2022 г.


